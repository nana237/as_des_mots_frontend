{"version":3,"file":"src_app_pages_partie_game_game_module_ts.js","mappings":"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","sources":["./src/app/pages/partie/game/game-routing.module.ts","./src/app/pages/partie/game/game.module.ts","./src/app/pages/partie/game/game.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GamePage } from './game.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GamePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GamePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GamePageRoutingModule } from './game-routing.module';\r\n\r\nimport { GamePage } from './game.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GamePageRoutingModule\r\n  ],\r\n  declarations: [GamePage]\r\n})\r\nexport class GamePageModule {}\r\n","/* eslint-disable @typescript-eslint/type-annotation-spacing */\r\n/* eslint-disable no-var */\r\n/* eslint-disable @typescript-eslint/dot-notation */\r\n/* eslint-disable @typescript-eslint/quotes */\r\n/* eslint-disable max-len */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport { WebsocketService } from '../../../services/websocket.service';\r\n// import { waTextToSpeech, waTextToSpeechPaused, waTextToSpeechEnd, waUtterance } from '@ng-web-apis/speech';\r\n\r\ninterface RecommendedVoices {\r\n\t[key: string]: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-game',\r\n  templateUrl: './game.page.html',\r\n  styleUrls: ['./game.page.scss'],\r\n})\r\nexport class GamePage implements OnInit {\r\n\r\n  // text='salut';\r\n  public sayCommand: string;\r\n\tpublic recommendedVoices: RecommendedVoices;\r\n\tpublic rates: number[];\r\n\tpublic selectedRate: number;\r\n\tpublic selectedVoice: SpeechSynthesisVoice | null;\r\n\tpublic text: string;\r\n\tpublic textOnline: string;\r\n\tpublic TabWordTP = [];\r\n\tpublic answer: string;\r\n\tpublic voices: SpeechSynthesisVoice[];\r\n\tfound=false;\r\n\tviewModal=false;\r\n\tnumber = 0;\r\n\ttabCandidate=[\r\n\t\t{\r\n\t\t\tname:'myusername1',\r\n\t\t\tscore:[]\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tname:'myusername2',\r\n\t\t// \tscore:[]\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \tname:'myusername3',\r\n\t\t// \tscore:[]\r\n\t\t// },\r\n\t\t// {\r\n\t\t// \tname:'myusername4',\r\n\t\t// \tscore:[]\r\n\t\t// },\r\n\t\t// 'myusername2', 'myusername3', 'myusername4'\r\n\t]\r\n\r\n\tshowFormAnswer = false;\r\n\tshowFormWaiting = false;\r\n\tshowFormYouAreNext = false;\r\n\tusername = 'myusername1'\r\n\tidPlayer= 0;\r\n\ttour = 0;\r\n  waitingConfig= false\r\n\tcurrentplayer: string;\r\n\tnFalse=10000;\r\n\tnFalseOnline=5000\r\n\ttotalTour = 3;\r\n  message={\r\n      message: <any>'',\r\n      emeteur: 'this.auth_.userdata.username',\r\n      typeMessage: 'this.websocket_.typesMessage.DP',\r\n      mot: '',// le mot à prononcer\r\n      destinataire: 'user',\r\n      prochain: '',\r\n      trouver: false,\r\n      initiateur: 'this.auth_.userdata.username',\r\n      reponse: 'this.answer',\r\n    }\r\n  startingOnline=false\r\n  waitingMyTime=false\r\n  destinataire = true;\r\n  prochain=false;\r\n  attente=true\r\n\tfinish= false;\r\n  perdu=false\r\n  mancheWin=false\r\n  gameWin=false\r\n\r\n\r\n  constructor(\r\n\t  private router: Router,\r\n\t  private game_: GameService,\r\n    private websocket_: WebsocketService,\r\n    private auth_: AuthService\r\n  ) {\r\n    this.voices = [];\r\n\t\tthis.rates = [ .25, .5, .75, 1, 1.25, 1.5, 1.75, 2 ];\r\n\t\tthis.selectedVoice = null;\r\n\t\tthis.selectedRate = 1;\r\n\t\t// Dirty Dancing for the win!\r\n\t\t// this.text = \"Me? ... I’m scared of everything. I’m scared of what I saw, of what I did, of who I am. And most of all, I’m scared of walking out of this room and never feeling the rest of my whole life ... the way I feel when I’m with you.\";\r\n\t\t// this.text = \"Bonjour \\n Banane \\n Salut \\n As des Mots \\n Prononciation \\n Apprentissage \\n étudier \\n Décourvire \\n s'amuser \\n évoluer. \";\r\n\t\tthis.text = \"monsieur\";\r\n\t\tthis.sayCommand = \"\";\r\n\t\tthis.TabWordTP = ['Bonjour', 'Salut', 'rhinomicine', 'médicament', 'voiture', 'maison', 'bateau', 'zero', 'lire', 'marcher', 'marchander', 'saluer', 'gentil', 'agrégation', 'mariage', 'nourriture', 'fruit']\r\n\r\n\t\tthis.text = this.TabWordTP[0] //initializeWord\r\n\r\n\t\t// These are \"recommended\" in so much as that these are the voices that I (Ben)\r\n\t\t// could understand most clearly.\r\n\t\tthis.recommendedVoices = Object.create( null );\r\n\t\tthis.recommendedVoices[ \"Alex\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Alva\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Damayanti\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Daniel\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Fiona\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Fred\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Karen\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Mei-Jia\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Melina\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Moira\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Rishi\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Samantha\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Tessa\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Veena\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Victoria\" ] = true;\r\n\t\tthis.recommendedVoices[ \"Yuri\" ] = true;\r\n\r\n\t\t\r\n  }\r\n\r\n  public initialize(){\r\n    if(this.game_.startingOnline){\r\n      this.startingOnline=true\r\n\t  if (this.isLauncher()) {\t\t\r\n\t\tthis.initializeTabCandidate()\r\n\t\tthis.initializePlayer();\r\n\t\tthis.initializeTour();\r\n\t\tthis.initializeWord();\r\n\t  }\r\n\r\n      this.connectToGame()\r\n\t  if (this.isLauncher()) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.sendQuestion();\r\n\t\t}, 5000);\r\n\t\t\r\n\t\t\r\n\t  }\r\n    }else{\r\n\t\tthis.attente = false\r\n\t\tthis.initializePlayer();\r\n\t\tthis.initializeTour();\r\n\t\tthis.initializeWord();\r\n\t}\r\n\t\r\n\r\n  }\r\n\r\n  isLauncher(){\r\n\tconsole.log('log islauncher', this.game_.initiateur, this.auth_.userdata.username);\r\n\r\n\tif (this.game_.initiateur==this.auth_.userdata.username) {\r\n\t\treturn true\r\n\t}\r\n\treturn false\r\n  }\r\n\r\n  public demoSelectedVoice() : void {\r\n\r\n\t\tif ( ! this.selectedVoice ) {\r\n\r\n\t\t\tconsole.warn( \"Expected a voice, but none was selected.\" );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar demoText = \"Best wishes and warmest regards.\";\r\n\r\n\t\tthis.stop();\r\n\t\tthis.synthesizeSpeechFromText( this.selectedVoice, this.selectedRate, demoText );\r\n\r\n\t}\r\n\r\n\r\n  ngOnInit() {\r\n    this.voices = speechSynthesis.getVoices();\r\n\t\tthis.selectedVoice = ( this.voices[ 0 ] || null );\r\n\t\tthis.updateSayCommand();\r\n\r\n\t\t// The voices aren't immediately available (or so it seems). As such, if no\r\n\t\t// voices came back, let's assume they haven't loaded yet and we need to wait for\r\n\t\t// the \"voiceschanged\" event to fire before we can access them.\r\n\t\tif ( ! this.voices.length ) {\r\n\r\n\t\t\tspeechSynthesis.addEventListener(\r\n\t\t\t\t\"voiceschanged\",\r\n\t\t\t\t() => {\r\n\r\n\t\t\t\t\tthis.voices = speechSynthesis.getVoices();\r\n          // this.selectedVoice = this.voices[this.voices.indexOf()];\r\n\t\t\t\t\tthis.selectedVoice = ( this.voices[ 0 ] || null );\r\n\t\t\t\t\tthis.updateSayCommand();\r\n\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tthis.initialize();\r\n\r\n\t\tif (!this.startingOnline) {\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.speak();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n  }\r\n\r\n  onEnd(){\r\n    console.log('reading finish');\r\n  }\r\n\r\n  public speak() : void {\r\n\t\tconsole.log('i speak')\r\n\t\tif ( ! this.selectedVoice || ! this.text ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tthis.stop();\r\n\t\tthis.synthesizeSpeechFromText( this.selectedVoice, this.selectedRate, this.text );\r\n\r\n\t}\r\n\r\n\r\n\t// I stop any current speech synthesis.\r\n\tpublic stop() : void {\r\n\r\n\t\tif ( speechSynthesis.speaking ) {\r\n\r\n\t\t\tspeechSynthesis.cancel();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t// I update the \"say\" command that can be used to generate the a sound file from the\r\n\t// current speech synthesis configuration.\r\n\tpublic updateSayCommand() : void {\r\n\r\n\t\tif ( ! this.selectedVoice || ! this.text ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\t// With the say command, the rate is the number of words-per-minute. As such, we\r\n\t\t// have to finagle the SpeechSynthesis rate into something roughly equivalent for\r\n\t\t// the terminal-based invocation.\r\n\t\tvar sanitizedRate = Math.floor( 200 * this.selectedRate );\r\n\t\tvar sanitizedText = this.text\r\n\t\t\t.replace( /[\\r\\n]/g, \" \" )\r\n\t\t\t.replace( /([\"'\\\\\\\\/])/g, \"\\\\$1\" )\r\n\t\t;\r\n\r\n\t\tthis.sayCommand = `say --voice ${ this.selectedVoice.name } --rate ${ sanitizedRate } --output-file=demo.aiff \"${ sanitizedText }\"`;\r\n\r\n\t}\r\n\r\n\t// ---\r\n\t// PRIVATE METHODS.\r\n\t// ---\r\n\r\n\t// I perform the low-level speech synthesis for the given voice, rate, and text.\r\n\tprivate synthesizeSpeechFromText(\r\n\t\tvoice: SpeechSynthesisVoice,\r\n\t\trate: number,\r\n\t\ttext: string\r\n\t\t) : void {\r\n\r\n\t\tvar utterance = new SpeechSynthesisUtterance( text );\r\n\t\tutterance.voice = this.selectedVoice;\r\n\t\tutterance.rate = rate;\r\n\t\tutterance.rate = 0.75;\r\n\r\n\t\tspeechSynthesis.speak( utterance );\r\n\r\n\t}\r\n\r\n\tprivate onValidate(){\r\n\r\n    if(this.startingOnline && !this.waitingMyTime){\r\n\t\tthis.waitingMyTime=true\r\n      this.sendRespond()\r\n    }else{\r\n      this.showModal();\r\n      if(this.found){\r\n        setTimeout(() => {\r\n          this.execute();\r\n        }, this.found?2500:this.nFalse);\r\n      }\r\n\r\n      console.log(this.found)\r\n      console.log(this.answer)\r\n    }\r\n\t}\r\n\r\n\texecute(){\r\n\t\tconsole.log(this.found)\r\n\t\tconsole.log(this.answer)\r\n\t\tthis.hideModal();\r\n\t\tthis.setnextWord();\r\n\t\tthis.setnextPlayer();\r\n\t\tthis.privateCleartInput();\r\n\t\tif(!this.finish){\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.speak();\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\r\n\tprivateCleartInput(){\r\n\t\tthis.answer=\"\"\r\n\t}\r\n\r\n\tprivate setn0(){\r\n\t\tthis.nFalse=0;\r\n\t}\r\n\r\n  private setcurrentwordOnline(word){\r\n    this.text=word\r\n    this.speak();\r\n  }\r\n\r\n\tprivate setnextWord(){\r\n\t\tthis.number= (this.number+1)%this.TabWordTP.length;\r\n\t\tthis.text=this.TabWordTP[this.number]\r\n\t}\r\n\r\n\tprivate setnextPlayer(){\r\n\t\tthis.idPlayer= (1 + this.idPlayer)%this.tabCandidate.length;\r\n\t\tif(this.idPlayer==0){\r\n\t\t\tthis.tour += 1;\r\n\t\t\tif(this.tour>this.totalTour){\r\n\t\t\t\tthis.tour-=1;\r\n\t\t\t\tthis.finish=true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.currentplayer = this.tabCandidate[this.idPlayer].name\r\n\r\n\t\tif(this.finish){\r\n\t\t\tconsole.log('finish');\r\n\t\t\tif (this.startingOnline) {\r\n\t\t\t\tthis.message.typeMessage=this.websocket_.typesMessage.STOP\r\n\t\t\t\tthis.message.message={\r\n\t\t\t\t\ttabCandidate: this.tabCandidate,\r\n\t\t\t\t\ttour: this.tour}\r\n\t\t\t\tthis.websocket_.pushMessageWith('game' + this.game_.gamedata.id, this.message)\r\n\t\t\t}else{\r\n\t\t\t\tthis.game_.tabCandidate = this.tabCandidate\r\n\t\t\t\tthis.game_.tour = this.tour\r\n\t\t\t\tthis.router.navigateByUrl('score')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  sendQuestion(){\r\n\tconsole.log('send question');\r\n\t\r\n    this.message={\r\n      message: 'Question',\r\n      emeteur: this.auth_.userdata.username,\r\n      typeMessage: this.websocket_.typesMessage.MQ,\r\n      mot: this.text,// le mot à prononcer\r\n      destinataire: this.tabCandidate[this.idPlayer].name,\r\n      prochain: this.tabCandidate[(1 + this.idPlayer)%this.tabCandidate.length].name,\r\n      trouver: false,\r\n      initiateur: this.auth_.userdata.username,\r\n      reponse: '',\r\n    }\r\n\r\n\tthis.websocket_.pushMessageWith('game' + this.game_.gamedata.id, this.message)\r\n  }\r\n\r\n  sendRespond(){\r\n    // this.viewModal=true;\r\n\t\t// this.found = this.text.toLocaleLowerCase().trim()==this.answer.toLocaleLowerCase().trim()\r\n\t\t// this.tabCandidate[this.idPlayer].score.push(this.found ? 1 : 0)\r\n\t\t// console.log(this.tabCandidate)\r\n\r\n    // let message={\r\n    //   message: \"Reponse\",\r\n    //   emeteur: this.auth_.userdata.username,\r\n    //   typeMessage: this.websocket_.typesMessage.DP,\r\n    //   mot: '',// le mot à prononcer\r\n    //   destinataire: user,\r\n    //   prochain: '',\r\n    //   trouver: '',\r\n    //   initiateur: this.auth_.userdata.username,\r\n    //   reponse: this.answer,\r\n    // }\r\n\r\n    this.message.reponse=this.answer\r\n    this.message.destinataire = this.message.initiateur\r\n    this.message.emeteur= this.auth_.userdata.username\r\n    this.message.typeMessage = this.websocket_.typesMessage.MR\r\n    this.websocket_.pushMessageWith('game' + this.game_.gamedata.id, this.message)\r\n\tthis.answer=''\r\n  }\r\n\r\n  calculateResponse(motPrononcer, response){\r\n    // this.viewModal=true;\r\n\t\tthis.found = motPrononcer.toLocaleLowerCase().trim()==response.toLocaleLowerCase().trim()\r\n\t\tthis.tabCandidate[this.getLocalIdCandidate(this.message.emeteur)].score.push(this.found ? 1 : 0)\r\n    this.message.trouver = this.found\r\n    this.message.emeteur=this.auth_.userdata.username\r\n    this.message.destinataire=\"All_user__\"\r\n\tthis.message.typeMessage = this.websocket_.typesMessage.MT\r\n    this.websocket_.pushMessageWith('game' + this.game_.gamedata.id, this.message)\r\n\t\tconsole.log(this.tabCandidate)\r\n\r\n    this.setnextWord()\r\n    this.setnextPlayer()\r\n  }\r\n\r\n  getLocalIdCandidate(user){\r\n    for (let i = 0; i < this.tabCandidate.length; i++) {\r\n      const candidate = this.tabCandidate[i];\r\n      if (candidate.name==user) {\r\n        return i\r\n      }\r\n    }\r\n    return -1\r\n  }\r\n\r\n  connectToGame(){\r\n\tconsole.log('connect to game : ' + 'game' + this.game_.gamedata.id);\r\n    this.websocket_.connectTo('game' + this.game_.gamedata.id).subscribe({\r\n      next: msg=> {\r\n        console.log(msg)\r\n        this.message=msg\r\n        this.websocket_.currentMessage=msg\r\n        switch (msg.typeMessage) {\r\n\t\t\tcase this.websocket_.typesMessage.MQ:\r\n\t\t\t\tconsole.log('faut attendre, ton tour arrive');\r\n\t\t\t\tthis.setcurrentwordOnline(msg.mot)\r\n\t\t\t\tthis.destinataire=false\r\n\t\t\t\tthis.attente=true\r\n\t\t\t\tthis.prochain=false\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.websocket_.typesMessage.MT:\r\n\t\t\t\t\tthis.showModalOnline()\r\n\t\t\t\t\tthis.found=this.message.trouver\r\n\t\t\t\t\tthis.textOnline = this.message.mot\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.hideModal()\r\n\t\t\t\t\t}, this.found?2000:this.nFalseOnline);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase this.websocket_.typesMessage.STOP:\r\n\t\t\t\tthis.game_.tabCandidate = this.message.message.tabCandidate\r\n\t\t\t\tthis.game_.tour = this.message.message.tour\r\n\t\t\t\tthis.router.navigateByUrl('score')\r\n\t\t\t\tbreak\r\n\r\n          default:\r\n            break;\r\n        }\r\n\r\n        if(msg.prochain==this.auth_.userdata.username){\r\n          switch (msg.typeMessage) {\r\n            case this.websocket_.typesMessage.MQ:\r\n\t\t\t\tconsole.log('c\\'est toi le prochain');\r\n\t\t\t\tthis.destinataire=false\r\n              this.attente=false\r\n              this.prochain=true\r\n              break;\r\n            case this.websocket_.typesMessage.MR:\r\n\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n\r\n        if(msg.destinataire==this.auth_.userdata.username){\r\n          switch (msg.typeMessage) {\r\n            case this.websocket_.typesMessage.MQ:\r\n\t\t\t\tconsole.log('a vous de jouer');\r\n\t\t\t\t\r\n\t\t\tthis.waitingMyTime= false\r\n\t\t\tthis.destinataire=true\r\n              this.attente=false\r\n              this.prochain=false\r\n              break;\r\n            case this.websocket_.typesMessage.MR:\r\n\r\n              break;\r\n            case this.websocket_.typesMessage.STOP:\r\n\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n\r\n        if(msg.destinataire==msg.initiateur && this.isLauncher()){\r\n          switch (msg.typeMessage) {\r\n            case this.websocket_.typesMessage.MR:\r\n              this.calculateResponse(msg.mot, msg.reponse)\r\n              this.sendQuestion()\r\n              break;\r\n            case this.websocket_.typesMessage.STOP:\r\n\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      },\r\n      error: err => console.log(err),\r\n      complete: ()=> console.log('complete')\r\n    })\r\n  }\r\n\r\n  private initializeTabCandidate(){\r\n\tconsole.log('initializeTabCandidate');\r\n\tthis.tabCandidate=[]\r\n    this.game_.users.forEach(user => {\r\n      this.tabCandidate.push({\r\n        name: user,\r\n        score: []\r\n      })\r\n    });\r\n\tconsole.log(this.tabCandidate);\r\n  }\r\n  \r\n\tprivate initializePlayer(){\r\n\t\tconsole.log('initialize player');\r\n\t\tthis.idPlayer=0;\r\n\t}\r\n\tprivate initializeTour(){\r\n\t\tconsole.log('initialize tour');\r\n\t\tthis.tour=1;\r\n\t}\r\n\tprivate initializeWord(){\r\n\t\tconsole.log('initialize word');\r\n\t\tthis.number=0;\r\n\t}\r\n\r\n\tprivate showModalOnline(){\r\n\t\tthis.viewModal=true\r\n\t}\r\n\r\n\tprivate showModal(){\r\n\t\tthis.viewModal=true;\r\n\t\tthis.found = this.text.toLocaleLowerCase().trim()==this.answer.toLocaleLowerCase().trim()\r\n\t\tthis.tabCandidate[this.idPlayer].score.push(this.found ? 1 : 0)\r\n\t\tconsole.log(this.tabCandidate)\r\n\r\n\t\t// this.found=false;\r\n\t}\r\n\r\n\tprivate hideModal(){\r\n\t\tthis.viewModal=false;\r\n\t\tthis.found=false;\r\n\t}\r\n  //  Microsoft Hortense - French (France)\r\n  // Google UK English Female\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}