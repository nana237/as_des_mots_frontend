{"version":3,"file":"src_app_pages_config_game-config_game-config_module_ts.js","mappings":"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","sources":["./src/app/pages/config/game-config/game-config-routing.module.ts","./src/app/pages/config/game-config/game-config.module.ts","./src/app/pages/config/game-config/game-config.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GameConfigPage } from './game-config.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GameConfigPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GameConfigPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GameConfigPageRoutingModule } from './game-config-routing.module';\r\n\r\nimport { GameConfigPage } from './game-config.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GameConfigPageRoutingModule\r\n  ],\r\n  declarations: [GameConfigPage]\r\n})\r\nexport class GameConfigPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GameService } from 'src/app/services/game.service';\r\nimport { RealtimeService } from 'src/app/services/realtime.service';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport { ConfigService } from '../../../services/config.service';\r\nimport { FeatureService } from '../../../services/feature.service';\r\nimport { WebsocketService } from '../../../services/websocket.service';\r\n\r\n@Component({\r\n  selector: 'app-game-config',\r\n  templateUrl: './game-config.page.html',\r\n  styleUrls: ['./game-config.page.scss']\r\n})\r\n\r\n\r\nexport class GameConfigPage implements OnInit {\r\n  TsearchPerson\r\n  searchPersonValue\r\n  Participants=[]\r\n  TRefusP = []\r\n  TAcceptP = []\r\n  TabLevel\r\n  currentLevel\r\n  nbTour = 1\r\n  showS=false\r\n  onlineMode=false;\r\n  demande='Demande Participation'\r\n\r\n  waitting=false;\r\n\r\n\r\n  users:Array<string>=['suman', 'alex', 'rony'];\r\n  currentSelectedUser:string;\r\n  tabBlocQ;\r\n  tabSelectedBlocQ=[]\r\n\r\n  constructor(\r\n    private config_: ConfigService,\r\n    private realtime_: RealtimeService,\r\n    private websocket_: WebsocketService,\r\n    private auth_: AuthService,\r\n    private router: Router,\r\n    private feature_: FeatureService,\r\n    private game_: GameService\r\n  ) {\r\n    this.initialize()\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  initialize(){\r\n    this.getAllNiveau()\r\n    this.currentLevel={id:'',\r\n    name:'niveau',\r\n    value:''}\r\n\r\n    if (this.config_.mode == \"online\") {\r\n      this.nbTour = 1\r\n      this.onlineMode=true\r\n\r\n    }\r\n    this.setShowS()\r\n  }\r\n\r\n  setShowS(){\r\n    if (this.nbTour>1) {\r\n      this.showS=true;\r\n    }else{\r\n      this.showS=false;\r\n    }\r\n  }\r\n\r\n  searchPerson($event){\r\n    console.log($event)\r\n    console.log(this.searchPersonValue)\r\n    if(this.searchPersonValue != \"\"){\r\n      this.config_.searchPerson(this.searchPersonValue).subscribe(\r\n        data=>{\r\n          this.TsearchPerson=data\r\n          console.log(this.TsearchPerson)\r\n        },\r\n        error=>{\r\n          console.warn(error)\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  onClickSperson(person){\r\n    this.Participants.push(person)\r\n    this.searchPersonValue = \"\"\r\n    this.TsearchPerson=[]\r\n    console.log(this.Participants)\r\n  }\r\n\r\n  onClickParticipant(index){\r\n    this.Participants.splice(index, 1)\r\n  }\r\n\r\n  onLevelSchange($event){\r\n    console.log($event)\r\n    console.log(this.currentLevel)\r\n    this.getBlocQuestionByLevel(this.currentLevel)\r\n  }\r\n\r\n  onAddBlocQ(blocQ){\r\n      this.tabSelectedBlocQ.push(blocQ)\r\n  }\r\n\r\n  onClicBlocSQ(index){\r\n    this.tabSelectedBlocQ.splice(index,1)\r\n  }\r\n\r\n  onInviter(){\r\n    console.log(this.Participants)\r\n    this.sendMsg()\r\n  }\r\n\r\n  inviter(candidat){\r\n\r\n  }\r\n\r\n\r\n  getSelectedUserAccess(){\r\n    console.log(\"Current Selected User\", this.currentSelectedUser)\r\n  }\r\n\r\n  getAllNiveau(){\r\n    this.config_.getAllNiveau().subscribe(\r\n      data=>{\r\n        this.TabLevel=data\r\n        console.log(this.TabLevel)\r\n      },\r\n      error=>{\r\n        console.warn(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getBlocQuestionByLevel(level){\r\n    this.config_.getBlocQuestionByLevel(level).subscribe(\r\n      data=>{\r\n        this.tabBlocQ=data\r\n        console.log(this.tabBlocQ)\r\n      },\r\n      error=>{\r\n        console.warn(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  private message =  {\r\n    \"message\": \"frontend Je vais bien et toi ?\",\r\n    'emeteur': 'frontend emeteur',\r\n    'typeMessage': 'frontend typeMessage',\r\n    'mot': 'frontend mot',\r\n    'destinataire': 'frontend destinataire',\r\n    'prochain': 'frontend prochain',\r\n    'trouver': 'frontend trouver',\r\n    'initiateur': 'frontend initiateur',\r\n    'reponse': 'frontend reponse',\r\n  };\r\n\r\n  sendMsg() {\r\n    // console.log(\"new message from client to websocket: \", this.message);\r\n    // this.realtime_[0].messages.next(this.message);\r\n    // console.log('this.Participants')\r\n    // console.log(this.Participants[0].username)\r\n    // this.sendMsgTo(this.Participants[0].username)\r\n\r\n    // this.websocket_.listengMessage()\r\n    // this.websocket_.pushMessage()\r\n\r\n    for (let i = 0; i < this.Participants.length; i++) {\r\n      const participant = this.Participants[i];\r\n      this.sendMsgTo(participant.username)\r\n    }\r\n  }\r\n\r\n  sendMsgTo(user){\r\n    // let data = this.realtime_.createConWith(user);\r\n    // console.log('data');\r\n    // console.log(data);\r\n\r\n    // console.log('TabMessageTo[user]');\r\n    // console.log(this.realtime_.TabMessageTo[user]);\r\n\r\n    let message={\r\n      message: \"connexion\",\r\n      emeteur: this.auth_.userdata.username,\r\n      typeMessage: this.websocket_.typesMessage.DP,\r\n      mot: '',\r\n      destinataire: user,\r\n      prochain: '',\r\n      trouver: '',\r\n      initiateur: this.auth_.userdata.username,\r\n      reponse: '',\r\n    }\r\n\r\n    this.websocket_.connectTo(user).subscribe({\r\n      next: msg=> {\r\n        console.log(msg)\r\n        this.websocket_.currentMessage=msg\r\n        // switch (msg.destinataire) {\r\n        //   case this.auth_.userdata.username:\r\n\r\n        //     break;\r\n\r\n        //   default:\r\n        //     break;\r\n        // }\r\n        if(msg.destinataire==this.auth_.userdata.username){\r\n          switch (msg.typeMessage) {\r\n            case this.websocket_.typesMessage.DP:\r\n              this.router.navigateByUrl('rejoindre')\r\n              break;\r\n            case this.websocket_.typesMessage.RD:\r\n              // this.websocket_.messageByUser[user]=msg\r\n              console.log(this.websocket_.typesMessage.RD);\r\n\r\n              if (msg.reponse == \"oui\") {\r\n                this.TAcceptP.push(msg.emeteur)\r\n                // this.Participants.splice()\r\n              }else{\r\n                this.TRefusP.push(msg.emeteur)\r\n              }\r\n              break;\r\n            case this.websocket_.typesMessage.START:\r\n\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n\r\n          // switch (msg.) {\r\n          //   case value:\r\n\r\n          //     break;\r\n\r\n          //   default:\r\n          //     break;\r\n          // }\r\n        }\r\n\r\n      },\r\n      error: err => console.log(err),\r\n      complete: ()=> console.log('complete')\r\n    })\r\n    let subject = this.websocket_.pushMessageWith(user, message)\r\n    // this.waitForUser(subject)\r\n\r\n    // this.realtime_.TabMessageTo[user].next(this.message);\r\n    // this.realtime_.messages2.next(this.message);\r\n  }\r\n\r\n  sendMsgTo2(user){\r\n    this.websocket_.sendMsgTo();\r\n\r\n    // console.log(\"send message 2\");\r\n    // this.realtime_.messages2.next(this.message);\r\n  }\r\n\r\n  waitForUser(subject){\r\n    subject.subscribe({\r\n      next: msg=> {\r\n        console.log('depuis game config')\r\n        console.log(msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  getlocalID(user){\r\n    for (let i = 0; i < this.Participants.length; i++) {\r\n      const participe = this.Participants[i];\r\n      if (participe.username==user) {\r\n        // console.log(participe);\r\n\r\n        return participe.account\r\n      }\r\n    }\r\n    return null\r\n  }\r\n  onStart(){\r\n    let player : Array<number>=[]\r\n    this.TAcceptP.forEach(acceptor => {\r\n      player.push(parseInt(this.getlocalID(acceptor)))\r\n    });\r\n\r\n    console.log(player);\r\n\r\n    // only if we are online\r\n    player.push(parseInt(this.auth_.userdata.pk))\r\n    console.log('player');\r\n    console.log(player.toString());\r\n    let game={\r\n      // \"date_added\": null,\r\n      launcher: parseInt(this.auth_.userdata.pk),\r\n      // \"winner\": null,\r\n      player: player\r\n    }\r\n\r\n    console.log(game);\r\n    let gamedata=game\r\n    // let gamedata=JSON.stringify(game)\r\n    // let gamedata=this.feature_.toFormdata(game)\r\n    console.log('gamedata');\r\n    console.log(gamedata);\r\n\r\n\r\n    this.config_.createGame(gamedata).subscribe(data=>{\r\n      console.log(data);\r\n\r\n      // only if we are online\r\n      this.TAcceptP.push(this.auth_.userdata.username)\r\n      let StartMessage={\r\n        message: {gamedata: data, players: this.TAcceptP},\r\n        emeteur: this.auth_.userdata.username,\r\n        typeMessage: this.websocket_.typesMessage.START,\r\n        mot: '',\r\n        destinataire: this.auth_.userdata.username,\r\n        prochain: '',\r\n        trouver: '',\r\n        initiateur: this.auth_.userdata.username,\r\n        reponse: '',\r\n      }\r\n      this.TAcceptP.forEach(acceptor => {\r\n        StartMessage.destinataire=acceptor\r\n        this.websocket_.pushMessageWith(acceptor, StartMessage)\r\n      });\r\n\r\n      this.Participants.forEach(participe => {\r\n        this.websocket_.disconnect(participe.username)\r\n      });\r\n\r\n      \r\n      // StartMessage.destinataire=this.auth_.userdata.username\r\n      // this.game_.gamedata=StartMessage.message.gamedata\r\n      // this.game_.users = StartMessage.message.players\r\n      // this.game_.startingOnline=true\r\n      // this.game_.initiateur = StartMessage.initiateur\r\n      // this.router.navigateByUrl('game')\r\n\r\n      // StartMessage.destinataire=this.auth_.userdata.username\r\n      // this.websocket_.pushMessageWith(this.auth_.userdata.username, StartMessage)\r\n\r\n\r\n    })\r\n\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}